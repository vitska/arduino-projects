#ifndef _MCP23017_H
#define _MCP23017_H

#include <Arduino.h>
#include <Wire.h>

#define MCP23017_ADDR 0x20

#define MCP23017_PORTA 0x0
#define MCP23017_PORTB 0x1

// REGISTER ADDRESSES
#define MCP23017_IODIRA 0x00   // IO7 IO6 IO5 IO4 IO3 IO2 IO1 IO0 1111 1111
#define MCP23017_IODIRB 0x01   // IO7 IO6 IO5 IO4 IO3 IO2 IO1 IO0 1111 1111
#define MCP23017_IPOLA 0x02    // IP7 IP6 IP5 IP4 IP3 IP2 IP1 IP0 0000 0000
#define MCP23017_IPOLB 0x03    // IP7 IP6 IP5 IP4 IP3 IP2 IP1 IP0 0000 0000
#define MCP23017_GPINTENA 0x04 // GPINT7 GPINT6 GPINT5 GPINT4 GPINT3 GPINT2 GPINT1 GPINT0 0000 0000
#define MCP23017_GPINTENB 0x05 // GPINT7 GPINT6 GPINT5 GPINT4 GPINT3 GPINT2 GPINT1 GPINT0 0000 0000
#define MCP23017_GPPUA 0x0C    // PU7 PU6 PU5 PU4 PU3 PU2 PU1 PU0 0000 0000
#define MCP23017_GPPUB 0x0D    // PU7 PU6 PU5 PU4 PU3 PU2 PU1 PU0 0000 0000
#define MCP23017_GPIOA 0x12    // GP7 GP6 GP5 GP4 GP3 GP2 GP1 GP0 0000 0000
#define MCP23017_GPIOB 0x13    // GP7 GP6 GP5 GP4 GP3 GP2 GP1 GP0 0000 0000
#define MCP23017_OLATA 0x14    // OL7 OL6 OL5 OL4 OL3 OL2 OL1 OL0 0000 0000
#define MCP23017_OLATB 0x15    // OL7 OL6 OL5 OL4 OL3 OL2 OL1 OL0 0000 0000

class MCP23017 {
public:
  MCP23017();

  void setPullup(uint8_t port, uint8_t mask);
  uint8_t readPort(uint8_t port);

private:
  uint8_t _i2caddr;
  TwoWire *_i2c;
};

#endif